@startuml US300

participant "Route" as Route
participant "Controller" as Controller
participant "Service" as Service
participant "Repositorio" as Repositorio

 -> Route : get(api/buildings/:buildingId/with-elevator)
activate Route
Route -> Controller : getFloorsWithElevatorByBuildingId()
activate Controller
Controller -> Service : getFloorsWithElevatorByBuildingId(buildingId)
activate Service
activate Repositorio
Service -> Repositorio : floorDTOList=getFloorsAtBuildings(building)
Service -> Repositorio : elevatorsForFloorsList=findByFloorIds(floorDTOList)
Service --> Controller : elevatorsForFloorsListDTO
Controller--> Route : Resposta HTTP
Route --> : Resposta HTTP

note right of Service
O DTO não está representado por questões de simplicidade (Ver US150).
end note
@enduml
